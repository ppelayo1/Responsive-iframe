!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(1)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,l,s=r(2),c=(r.n(s),r(3)),u=(r.n(c),r(4)),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),__=wp.i18n.__,m=wp.blocks.registerBlockType,d=wp.element.Fragment,f=wp.components.Placeholder,h=wp.element.Component,b={iFrameURL:{type:"string",default:window.location.href.match(RESPONSIVE_IFRAME_CONSTANTS.URL_REGEX)[0]},iFrameWidth:{type:"number",default:1e3},iFrameHeight:{type:"number",default:600},wrapperWidth:{type:"number",default:100},scrollBarChecked:{type:"boolean",default:!0},borderChecked:{type:"boolean",default:!0},id:{type:"string"},wrapperClass:{type:"string",default:RESPONSIVE_IFRAME_CONSTANTS.WRAPPER_CLASS_NAME},useMaxWidth:{type:"boolean",default:!1},maxWidth:{type:"number",default:2e3},breakPoints:{type:"array",default:[]}};m("patrickp/responsive-iframes",{title:__("Responsive iframes"),icon:"desktop",category:"embed",keywords:[__("responsive-iframes"),__("iframe"),__("responsive")],attributes:{iFrameURL:{type:"string",default:window.location.href.match(RESPONSIVE_IFRAME_CONSTANTS.URL_REGEX)[0]},iFrameWidth:{type:"number",default:1e3},iFrameHeight:{type:"number",default:600},wrapperWidth:{type:"number",default:100},scrollBarChecked:{type:"boolean",default:!0},borderChecked:{type:"boolean",default:!0},id:{type:"string"},wrapperClass:{type:"string",default:RESPONSIVE_IFRAME_CONSTANTS.WRAPPER_CLASS_NAME},useMaxWidth:{type:"boolean",default:!1},maxWidth:{type:"number",default:2e3},breakPoints:{type:"array",default:[{breakPointW:0,siteW:0}]}},edit:(l=o=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=t;return(0,r.props.setAttributes)({id:RESPONSIVE_IFRAME_CONSTANTS.ID_NAME.concat(i.index)}),i.index++,r}return i(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this.props.attributes,t="#".concat(e.id);jQuery(t).css({width:e.iFrameWidth,height:e.iFrameHeight,maxWidth:"none"}),this.scaleIframe()}},{key:"componentDidUpdate",value:function(){var e=this.props.attributes,t="#".concat(e.id);jQuery(t).css({width:e.iFrameWidth,height:e.iFrameHeight}),this.scaleIframe()}},{key:"scaleIframe",value:function(){var e=RESPONSIVE_IFRAME_CONSTANTS.DEFAULT_SCALE_VAL,t=e,r=void 0,n=void 0,a=this.props.attributes,i="#".concat(a.id),o=jQuery(i).parent().width(),l=jQuery(i).width(),s=jQuery(i).height();t=o/l,r=-1*s*(e-t),n=-1*l*(e-t),jQuery(i).css(this.buildCSS(t,r,n))}},{key:"buildCSS",value:function(e,t,r){var n="scale("+e+")";return{transform:n,"-ms-transform":n,"-moz-transform":n,"-o-transform":n,"-webkit-transform":n,"transform-origin":"0 0","-ms-transform-origin":"0 0","-moz-transform-origin":"0 0","-o-transform-origin":"0 0","-webkit-transform-origin":"0 0","margin-bottom":t,"margin-right":r}}},{key:"render",value:function(){var e=this.props,t=e.attributes,r=(e.setAttributes,t.scrollBarChecked?"yes":"no"),n=t.borderChecked?{}:{border:"none"},a=t.wrapperWidth?{maxWidth:t.wrapperWidth+"%"}:{},i={marginLeft:"auto",marginRight:"auto"},o=t.className?t.wrapperClass+" "+t.className:t.wrapperClass,l=Object.assign(i,a),s=t.iFrameURL?wp.element.createElement("iframe",{id:t.id,style:n,class:RESPONSIVE_IFRAME_CONSTANTS.CLASS_NAME,scrolling:r,src:t.iFrameURL}):wp.element.createElement(f,null," ",wp.element.createElement("p",null,"Enter a url into the block settings to the right.")," ");return wp.element.createElement(d,null,wp.element.createElement(u.a,this.props),wp.element.createElement("div",{style:l,className:o},s))}}]),t}(h),o.index=0,l),save:function(e){var t=e.attributes,r=t.scrollBarChecked?"yes":"no",n=t.borderChecked?{}:{border:"none"},a=t.wrapperWidth?{maxWidth:t.wrapperWidth+"%"}:{},i={marginLeft:"auto",marginRight:"auto"},o=t.className?t.wrapperClass+" "+t.className:t.wrapperClass,l=JSON.stringify(t.breakPoints);t.useMaxWidth&&(a={maxWidth:t.maxWidth+"px"});var s=Object.assign(i,a),c=wp.element.createElement("iframe",{style:n,id:t.id,className:RESPONSIVE_IFRAME_CONSTANTS.CLASS_NAME,"data-break-points":l,"data-width-iframe":t.iFrameWidth,"data-height-iframe":t.iFrameHeight,scrolling:r,src:t.iFrameURL});return wp.element.createElement(d,null,wp.element.createElement("div",{style:s,className:o},c))},deprecated:[{attributes:b,save:function(e){var t=e.attributes,r=t.scrollBarChecked?"yes":"no",n=t.borderChecked?{}:{border:"none"},a=t.wrapperWidth?{maxWidth:t.wrapperWidth+"%"}:{},i={marginLeft:"auto",marginRight:"auto"},o=t.className?t.wrapperClass+" "+t.className:t.wrapperClass;t.useMaxWidth&&(a={maxWidth:t.maxWidth+"px"});var l=Object.assign(i,a),s=wp.element.createElement("iframe",{style:n,id:t.id,className:RESPONSIVE_IFRAME_CONSTANTS.CLASS_NAME,"data-width-iframe":t.iFrameWidth,"data-height-iframe":t.iFrameHeight,scrolling:r,src:t.iFrameURL});return wp.element.createElement(d,null,wp.element.createElement("div",{style:l,className:o},s))}}]})},function(e,t){},function(e,t){},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(5),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=wp.blockEditor,c=s.InspectorControls,u=s.InspectorAdvancedControls,p=wp.element.Component,m=wp.components,d=m.Panel,f=m.PanelBody,h=m.TextControl,b=m.CheckboxControl,E=m.RangeControl,w=m.Button,y={BREAKPOINTS:{BREAKPOINT_TITLE:"BreakPoint",BREAKPOINT_W:1e3,IFRAME_W:1e3}},k=function(e){function t(e){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"addBreakPoint",value:function(){var e=this.props,t=e.attributes,r=e.setAttributes,n=JSON.parse(JSON.stringify(t.breakPoints)),a=new o.a.BreakPoint(y.BREAKPOINTS.BREAKPOINT_TITLE,y.BREAKPOINTS.BREAKPOINT_W,y.BREAKPOINTS.IFRAME_W);n.push(a),r({breakPoints:n})}},{key:"updateBreakPoint",value:function(e,t,r){var n=this.props,a=n.attributes,i=n.setAttributes,o=JSON.parse(JSON.stringify(a.breakPoints));o[r].breakPointW=e,o[r].siteW=t,i({breakPoints:o})}},{key:"updateBreakPointTitle",value:function(e,t){var r=this.props,n=r.attributes,a=r.setAttributes,i=JSON.parse(JSON.stringify(n.breakPoints));i[t].breakPointTitle=e,a({breakPoints:i})}},{key:"removeBreakPoint",value:function(e){var t=this.props,r=t.attributes,n=t.setAttributes,a=JSON.parse(JSON.stringify(r.breakPoints));a.splice(e,1),n({breakPoints:a})}},{key:"removeAllBreakPoints",value:function(){var e=this.props,t=e.attributes,r=e.setAttributes,n=t.breakPoints;n=[],r({breakPoints:n})}},{key:"render",value:function(){var e=this,t=this.props,r=t.attributes,n=t.setAttributes,a=r.breakPoints;return wp.element.createElement(c,null,wp.element.createElement(d,null,wp.element.createElement(f,{title:"Iframe Settings"},wp.element.createElement(h,{label:"Site Address",value:r.iFrameURL,onChange:function(e){n({iFrameURL:e})}}),wp.element.createElement(E,{label:"Site Width",min:0,max:3e3,value:r.iFrameWidth,onChange:function(e){n({iFrameWidth:e})}}),wp.element.createElement(E,{label:"Site Height",min:0,max:3e3,value:r.iFrameHeight,onChange:function(e){n({iFrameHeight:e})}}),wp.element.createElement("div",{className:RESPONSIVE_IFRAME_CONSTANTS.CHK_BX_CLASS},wp.element.createElement(b,{label:"Scroll Bar",checked:r.scrollBarChecked,onChange:function(){n({scrollBarChecked:!r.scrollBarChecked})}}),wp.element.createElement(b,{label:"Border",checked:r.borderChecked,onChange:function(){n({borderChecked:!r.borderChecked})}})),wp.element.createElement(E,{label:r.useMaxWidth?"Scale (Disabled by Advanced Setting MAX WIDTH)":"Scale",disabled:r.useMaxWidth,min:1,max:100,value:r.wrapperWidth,onChange:function(e){n({wrapperWidth:e})}})),wp.element.createElement(u,null,wp.element.createElement(f,{title:"BreakPoints",initialOpen:!1},wp.element.createElement(w,{className:"responsiveIframeButton",onClick:function(){e.addBreakPoint()}},"Add Break Point"),wp.element.createElement("ul",null,a.map(function(t,r){return wp.element.createElement(f,{title:""!==t.breakPointTitle?t.breakPointTitle:y.BREAKPOINTS.BREAKPOINT_TITLE,initialOpen:!1},wp.element.createElement("li",null,wp.element.createElement(h,{label:"Name",value:t.breakPointTitle,onChange:function(t){e.updateBreakPointTitle(t,r)}}),wp.element.createElement(E,{label:"BreakPoint Width",min:0,max:3e3,value:t.breakPointW,onChange:function(n){e.updateBreakPoint(n,t.siteW,r)}}),wp.element.createElement(E,{label:"Site Width",min:0,max:3e3,value:t.siteW,onChange:function(n){e.updateBreakPoint(t.breakPointW,n,r)}}),wp.element.createElement(w,{className:"responsiveIframeButtonRed",onClick:function(){e.removeBreakPoint(r)}},"Remove BreakPoint")))})),wp.element.createElement(w,{className:"responsiveIframeButtonRed",onClick:function(){e.removeAllBreakPoints()}},"Remove All BreakPoints")),wp.element.createElement(f,{title:"Other Options",initialOpen:!1},wp.element.createElement(b,{label:"UseMaxWidth(This will disable scaling)",checked:r.useMaxWidth,onChange:function(){n({useMaxWidth:!r.useMaxWidth})}}),wp.element.createElement(E,{disabled:!r.useMaxWidth,label:"Max-Width",min:1,max:3e3,value:r.maxWidth,onChange:function(e){n({maxWidth:e})}})))))}}]),t}(p);t.a=k},function(e,t,r){"use strict";var n={BreakPoint:function(e,t,r){this.breakPointTitle=e,this.breakPointW=t,this.siteW=r}};t.a=n}]);